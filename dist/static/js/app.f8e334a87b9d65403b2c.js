webpackJsonp([1],{"1/oy":function(e,t){},"7Otq":function(e,t,s){e.exports=s.p+"static/img/logo.7212ec5.png"},"9M+g":function(e,t){},GfHa:function(e,t){},Id91:function(e,t){},Jmt5:function(e,t){},JyQ8:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s("u7Vc");var i=s("7+uW"),a=s("e6fC"),o=(s("cQn4"),s("kxiW")),r=s.n(o),n=s("NYxO"),l={name:"Login",data:()=>({email:"",password:"",currentUser:""}),mounted(){},methods:{login(e){r.a.auth().signInWithEmailAndPassword(this.email,this.password).then(e=>{alert(`You are logged in as ${e.user.email}`),this.$store.dispatch("userLoggedIn",e.user.email),this.$router.replace("list")},e=>{alert(e.message)}),console.log("login btn clicked"),e.preventDefault()}}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("img",{staticClass:"logo",attrs:{src:s("7Otq")}}),e._v(" "),i("form",[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",id:"email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),i("div",{staticClass:"label-text"},[e._v("Email")])]),e._v(" "),i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",id:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),i("div",{staticClass:"label-text"},[e._v("Password")])]),e._v(" "),i("button",{on:{click:e.login}},[e._v("Login")])])])},staticRenderFns:[]};var c=s("VU/8")(l,d,!1,function(e){s("xINL")},"data-v-a1ab6ff6",null).exports,u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("b-container",{attrs:{fluid:"",id:"app"}},[t("router-view")],1)},staticRenderFns:[]};s("VU/8")({name:"App",components:{}},u,!1,function(e){s("oV3e")},null,null).exports;var h={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("THIS IS HOME PAGE")])},staticRenderFns:[]},m=(s("VU/8")({name:"home-page"},h,!1,null,null,null).exports,{name:"register",data:()=>({email:"",password:""}),mounted(){},methods:{register(e){r.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(e=>{alert(`${e.user.email} created`),this.$router.push("/login")},e=>{alert(e.message)}),console.log("register btn clicked"),e.preventDefault()}}}),g={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[e._m(0),e._v(" "),s("form",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",id:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),s("div",{staticClass:"label-text"},[e._v("Email")])]),e._v(" "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",id:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),s("div",{staticClass:"label-text"},[e._v("Password")])]),e._v(" "),s("button",{on:{click:e.register}},[e._v("Register")])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("img",{staticClass:"logo",attrs:{src:s("7Otq")}})])}]};var v=s("VU/8")(m,g,!1,function(e){s("nx05")},"data-v-4d0a8d22",null).exports,p={data:()=>({slide:0,sliding:null}),methods:{go(){this.$router.push("/list")},onSlideStart(e){this.sliding=!0},onSlideEnd(e){this.sliding=!1}}},f={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-carousel",{staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel1",controls:"",indicators:"",background:"#ababab",interval:4e3,"img-width":"1024","img-height":"320"},on:{"sliding-start":e.onSlideStart,"sliding-end":e.onSlideEnd},model:{value:e.slide,callback:function(t){e.slide=t},expression:"slide"}},[s("b-carousel-slide",{attrs:{"img-src":"https://picsum.photos/1024/480/?image=7"}},[s("h1",[e._v("Vote For Thoughts!")]),e._v(" "),s("b-button",{on:{click:e.go}},[e._v(" Go to the App")])],1),e._v(" "),s("b-carousel-slide",{attrs:{"img-src":"https://picsum.photos/1024/480/?image=3"}},[s("h1",[e._v("See Others Thoughts!")]),e._v(" "),s("b-button",{on:{click:e.go}},[e._v(" Go to the App")])],1),e._v(" "),s("b-carousel-slide",{attrs:{"img-src":"https://picsum.photos/1024/480/?image=4"}},[s("h1",[e._v("Create Your Own Thoughts!")]),e._v(" "),s("b-button",{on:{click:e.go}},[e._v(" Go to the App")])],1)],1),e._v(" "),s("b-container",[s("b-row",{attrs:{"align-v":"center"}},[s("b-col"),e._v(" "),s("b-col",{staticClass:"m-xl-5 font-weight-bold text-center",attrs:{cols:"5"}},[e._v("\n        About Your Thoughts\n      ")]),e._v(" "),s("b-col")],1),e._v(" "),s("b-row",{attrs:{id:"text","align-v":"center"}},[s("div",{staticClass:"col-sm "}),e._v(" "),s("div",{staticClass:"col-sm text-center"}),e._v("\n\n      This project is to develop a social media platform called Thoughts, which allows users to vote on the thoughts and see others opinions (agree/disagree) on this thought by press the vote button. The users also can add their own thoughts and see others feedback on their thoughts. This app is working perfectly with mobile devices. In the future, we are going to allow the user to create their account so they can manage their thoughts.\n\n      "),s("div",{staticClass:"col-sm "})])],1)],1)},staticRenderFns:[]};s("VU/8")(p,f,!1,function(e){s("vFv6")},null,null).exports;var _={name:"single-feed",props:{feed:{type:Object,required:!0},checkAll:{type:Boolean,required:!0}},data(){return{dismissSecs:4,dismissSecs2:4,dismissCountDown:0,dismissCountDown2:0,id:this.feed.id,title:this.feed.title,completed:this.feed.completed,editing:this.feed.editing,beforeEditCache:"",agree:this.feed.agree,disagree:this.feed.disagree,category:this.feed.category,showDetail:!1}},methods:{test(){console.log(this.ramdonPicURL)},countDownChanged(e){this.dismissCountDown=e},countDownChanged2(e){this.dismissCountDown2=e},showAlert(){},shuffle(){console.log("Refreshed Page"),this.$store.dispatch("getfeeds")},viewFeedDetail(e){console.log(e),this.$store.dispatch("viewFeedDetail",e),this.$forceUpdate()},agreeOnFeed(){this.$store.dispatch("agreeOnFeed",{id:this.id,title:this.title,completed:this.completed,editing:this.editing,agree:this.agree=this.voteDetailAgree+1,disagree:this.disagree=this.voteDetailDisagree,user:this.userId}),this.showDetail=!0,this.$forceUpdate(),console.log(this.voteDetailAgree),this.dismissCountDown=this.dismissSecs,setTimeout(()=>{this.shuffle()},3500)},disagreeOnFeed(){this.$store.dispatch("disagreeOnFeed",{id:this.id,title:this.title,completed:this.completed,editing:this.editing,agree:this.agree=this.voteDetailAgree,disagree:this.disagree=this.voteDetailDisagree+1}),this.showDetail=!0,this.$forceUpdate(),console.log(this.voteDetaildisagree),this.dismissCountDown2=this.dismissSecs,setTimeout(()=>{this.shuffle()},3500)},removefeed(e){this.$store.dispatch("deletefeed",e)},editfeed(){this.editing=!0,this.beforeEditCache=this.title},doneEdit(){0==this.title.trim().length&&(this.title=beforeEditCache),this.editing=!1,this.$store.dispatch("editfeed",{id:this.id,title:this.title,completed:this.completed,editing:this.editing})},cancelEdit(){this.title=this.beforeEditCache,this.editing=!1}},computed:{filter(){return this.$store.state.filter},voteDetailAgree(){return this.$store.getters.voteDetailAgree},voteDetailDisagree(){return this.$store.getters.voteDetailDisagree},agreePercent(){let e=this.agree;return 100*(e/(e+this.disagree))},disagreePercent(){let e=this.agree,t=this.disagree;return 100*(t/(e+t))},userId(){return this.$store.state.user},ramdonPicURL(){let e="https://picsum.photos/600/300/?image=",t=Math.floor(100*Math.random()+1);return e+=String(t)}},watch:{checkAll(){this.checkAll?this.completed=!0:this.completed=this.feed.completed}},created(){},beforeDestroy(){}},b={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:" container "},[s("div",{staticClass:"row "},[s("div",{staticClass:"col"},[s("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{title:"Thought","img-src":e.ramdonPicURL,"img-alt":"Picsum server does not reponse on this pricture","img-top":"",tag:"article"}},[s("p",{staticClass:"card-text"},[e._v("\n          "+e._s(e.title)+"\n        ")]),e._v(" "),s("p",{staticClass:"card-text"},[e._v("\n          Category: "+e._s(e.category)+"\n        ")]),e._v(" "),e.showDetail?e._e():s("div",[s("b-button",{attrs:{variant:"success"},on:{click:e.agreeOnFeed}},[e._v("Agree")]),e._v(" "),s("b-button",{attrs:{variant:"danger"},on:{click:function(t){e.disagreeOnFeed(e.feed.id)}}},[e._v("Disagree")])],1),e._v(" "),e.showDetail?s("b-progress",{staticClass:"mt-1",attrs:{max:100,"show-value":""}},[s("b-progress-bar",{attrs:{value:e.agreePercent,variant:"success"}}),e._v(" "),s("b-progress-bar",{attrs:{value:e.disagreePercent,variant:"danger"}})],1):e._e()],1),e._v(" "),s("b-alert",{attrs:{show:e.dismissCountDown,dismissible:"",variant:"success"},on:{dismissed:function(t){e.dismissCountDown=0},"dismiss-count-down":e.countDownChanged}},[e._v(e._s(e.voteDetailAgree)+" people share the same opinion with you")]),e._v(" "),s("b-alert",{attrs:{show:e.dismissCountDown2,dismissible:"",variant:"danger"},on:{dismissed:function(t){e.dismissCountDown2=0},"dismiss-count-down":e.countDownChanged2}},[e._v(e._s(e.voteDetailDisagree)+" people share the same opinion with you")]),e._v(" "),"random"==e.filter?s("b-button",{attrs:{variant:"outline-primary"},on:{click:e.shuffle}},[e._v("Switch")]):e._e()],1)])])},staticRenderFns:[]};var w=s("VU/8")(_,b,!1,function(e){s("vbXd")},null,null).exports,C={name:"feeds-counter",computed:{remaining(){return this.$store.getters.remaining}}},y={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v(" You have "+this._s(this.remaining)+" feed(s)")])},staticRenderFns:[]},x=s("VU/8")(C,y,!1,null,null,null).exports,F={name:"feeds-checkall",props:{},computed:{anyRemaining(){return this.$store.getters.anyRemaining}},methods:{checkAllfeeds(){this.$store.dispatch("checkAll",event.target.checked)}}},D={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("label",[t("input",{attrs:{type:"checkbox"},domProps:{checked:!this.anyRemaining},on:{change:this.checkAllfeeds}}),this._v(" Check All")])])},staticRenderFns:[]},$=s("VU/8")(F,D,!1,null,null,null).exports,k={name:"feeds-filter",data:()=>({options:[{value:null,text:"Uncategorized"},{value:"Travel",text:"Travel"},{value:"Food",text:"Food"},{value:"Style",text:"Style"},{value:"Shows",text:"Shows"},{value:"Decor",text:"Decor"},{value:"Music",text:"Music"}],selected:null}),props:{},computed:{filter(){return this.$store.state.filter}},methods:{changefeedFilter(e){this.$store.dispatch("updateFilter",e),this.$forceUpdate()},changeCategory(e){this.$store.dispatch("updateCategory",e)}}},A={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-button",{class:{active:"random"==e.filter},attrs:{variant:"outline-secondary"},on:{click:function(t){e.changefeedFilter("random")}}},[e._v("Random")]),e._v(" "),s("b-button",{class:{active:"all"==e.filter},attrs:{variant:"outline-secondary"},on:{click:function(t){e.changefeedFilter("all")}}},[e._v("All")]),e._v(" "),s("b-button",{class:{active:"user"==e.filter},attrs:{variant:"outline-secondary"},on:{click:function(t){e.changefeedFilter("user")}}},[e._v("You Created")]),e._v(" "),s("div",{staticClass:"category-select"},["all"==e.filter?s("b-form-select",{staticClass:"mb-3",attrs:{options:e.options},on:{input:function(t){e.changeCategory(e.selected)}},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}):e._e()],1)],1)},staticRenderFns:[]};var E=s("VU/8")(k,A,!1,function(e){s("qXug")},"data-v-513ddc5e",null).exports,S={name:"clear-voted-feed",data:()=>({}),props:{},computed:{showClearCompletedButton(){return this.$store.getters.showClearCompletedButton}},methods:{clearCompleted(){this.$store.dispatch("clearCompleted")}}},U={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("transition",{attrs:{name:"fade"}})],1)},staticRenderFns:[]},T={name:"feed-list",components:{SingleFeed:w,FeedsCounter:x,FeedsCheckAll:$,FeedsFilter:E,ClearVotedFeeds:s("VU/8")(S,U,!1,null,null,null).exports},data:()=>({newfeed:"",idForfeed:0,beforeEditCache:"",filter:"all",feeds:[],allFeeds:[],options:[{value:null,text:"Uncategorized"},{value:"Travel",text:"Travel"},{value:"Food",text:"Food"},{value:"Style",text:"Style"},{value:"Shows",text:"Shows"},{value:"Decor",text:"Decor"},{value:"Music",text:"Music"}],selected:null}),methods:{addfeed(){0!=this.newfeed.trim().length&&(this.$store.dispatch("addfeed",{id:this.idForfeed,title:this.newfeed,completed:!1,editing:!1,agree:0,disagree:0,user:this.userId,category:this.selected}),this.newfeed="",this.idForfeed++)},editfeed(e){e.editing=!0,this.beforeEditCache=e.title},doneEdit(e){0==e.title.trim().length&&(e.title=beforeEditCache),e.editing=!1},cancelEdit(e){e.title=this.beforeEditCache,e.editing=!1},shuffle(){console.log("Refreshed Page"),this.$store.dispatch("getfeeds")},test(){this.$store.dispatch("getAllFeeds"),console.log("TEST")}},directives:{},created(){this.$store.dispatch("getfeeds")},beforeDestroy(){},computed:{userId(){return this.$store.state.user},remaining(){return this.$store.getters.remaining},anyRemaining(){return this.$store.getters.anyRemaining},feedsFiltered(){return this.$store.getters.feedsFiltered},showClearCompletedButton(){return this.$store.getters.showClearCompletedButton}}},O={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm "}),e._v(" "),s("div",{staticClass:"col-sm "},[s("feeds-filter")],1),e._v(" "),s("div",{staticClass:"col-sm "})]),e._v(" "),s("div",{staticClass:"row center"},[s("div",{staticClass:"col"},[s("div",[s("div",{staticClass:"add-btn"},[s("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-center",modifiers:{"modal-center":!0}}]},[e._v("Add your own thoughts here!")])],1),e._v(" "),s("b-modal",{attrs:{id:"modal-center","ok-title":"Add!",centered:"",title:"Add your own thoughts"},on:{ok:e.addfeed}},[s("p",{staticClass:"my-4"},[e._v("Please specify your thought")]),e._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newfeed,expression:"newfeed"}],staticClass:"feed-input",attrs:{type:"text",placeholder:"Click to add title"},domProps:{value:e.newfeed},on:{input:function(t){t.target.composing||(e.newfeed=t.target.value)}}})]),e._v(" "),s("div",[s("div",{staticClass:"feed-select"},[s("b-form-select",{staticClass:"mb-3",attrs:{options:e.options},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),e._v(" "),s("div",[e._v("Selected: "),s("strong",[e._v(e._s(e.selected))])])])])],1)])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm "}),e._v(" "),s("div",{staticClass:"col-sm "},[s("transition-group",{attrs:{name:"fade","enter-active-class":"animated fadeInUp","leave-active-class":"animated fadeOutDown"}},e._l(e.feedsFiltered,function(t){return s("single-feed",{key:t.id,attrs:{feed:t,checkAll:!e.anyRemaining}})}))],1),e._v(" "),s("div",{staticClass:"col-sm "})]),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"extra-container"})])}]};var R=s("VU/8")(T,O,!1,function(e){s("cV6X")},null,null).exports,I={render:function(){var e=this.$createElement,t=this._self._c||e;return t("section",{attrs:{id:"hero"}},[t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[this._m(0),this._v(" "),t("div",{staticClass:"col-md-7 content-box hero-content"},[this._m(1),this._v(" "),t("p",[this._v("This project is to develop a social media platform called Thoughts, which allows users to vote on the thoughts and see others opinions (agree/disagree) on this thought by press the vote button. The users also can add their own thoughts and see others feedback on their thoughts.")]),this._v(" "),t("router-link",{attrs:{to:"/list"}},[t("b-button",{staticStyle:{"margin-top":"20px"}},[this._v(" Go to the App")])],1)],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-lg-5 col-md-5 col-sm-5 col-xs-5"},[t("img",{staticClass:"img-fluid",attrs:{src:s("7Otq"),alt:"Demo image"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("h1",[this._v("Vote and add thoughts "),t("b",[this._v("On the everyday things ")])])}]};var L=s("VU/8")(null,I,!1,function(e){s("vo4a")},"data-v-834a8518",null).exports;var N=[{path:"/",name:"home-page",component:L,meta:{requiresGuest:!0}},{path:"/list",name:"list",component:R,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:c,meta:{requiresGuest:!0}},{path:"/register",name:"register",component:v,meta:{requiresGuest:!0}},{path:"/about",name:"about",component:L,meta:{requiresGuest:!0}}],P=s("/ocq");s("2ahc"),s("881v");const V=r.a.initializeApp({apiKey:"AIzaSyC57Y1PwmYmNDIrG97DKLN5X8hva5ok7-M",authDomain:"cs4241-fp.firebaseapp.com",databaseURL:"https://cs4241-fp.firebaseio.com",projectId:"cs4241-fp",storageBucket:"cs4241-fp.appspot.com",messagingSenderId:"600406637409"}).firestore();V.settings({timestampsInSnapshots:!0});var q=V,M=s("424j");i.a.use(n.a),i.a.config.devtools=!0;const G=new n.a.Store({plugins:[Object(M.a)()],state:{feeds:[],filter:"random",allFeeds:[],user:r.a.auth().currentUser,isLoggedIn:!1,category:null},getters:{isLoggedIn:e=>e.isLoggedIn,getUserName:e=>e.user,remaining:e=>e.feeds.filter(e=>!e.completed).length,anyRemaining:(e,t)=>0!=t.remaining,feedsFiltered:e=>"random"==e.filter?e.feeds:"all"==e.filter&&null==e.category?e.allFeeds:"all"==e.filter&&null!=e.category?e.allFeeds.filter(t=>t.category==e.category):"user"==e.filter?e.allFeeds.filter(t=>t.user==e.user):e.allFeeds,showClearCompletedButton:e=>e.feeds.filter(e=>e.completed).length>0,voteDetailAgree:e=>(console.log("-----------"+e.feeds[0].agree),e.feeds[0].agree),voteDetailDisagree:e=>e.feeds[0].disagree,getAllFeeds:e=>({})},mutations:{userLoggedIn(e,t){e.user=t},userLoggedOut(e){e.user=null},addfeed(e,t){},clearCompleted(e){e.feeds=e.feeds.filter(e=>!e.completed)},updateFilter(e,t){e.filter=t},checkAll(e,t){e.feeds.forEach(e=>e.completed=t)},deletefeed(e,t){const s=e.feeds.findIndex(e=>e.id==t);e.feeds.splice(s,1)},editfeed(e,t){const s=e.feeds.findIndex(e=>e.id==t.id);e.feeds.splice(s,1,{id:t.id,title:t.title,completed:t.completed,editing:t.editing})},getfeeds(e,t){e.feeds=t},getAllFeeds(e,t){e.allFeeds=t},updateCategory(e,t){e.category=t}},actions:{updateCategory(e,t){e.commit("updateCategory",t)},userLoggedIn(e,t){e.commit("userLoggedIn",t)},userLoggedOut(e){e.commit("userLoggedOut")},addfeed(e,t){q.collection("feeds").add({title:t.title,completed:!1,timestamp:new Date,agree:0,disagree:0,user:t.user,category:t.category}).then(s=>{e.commit("addfeed",{id:s.id,title:t.title,completed:!1,agree:0,disagree:0,user:s.user,category:s.category})}).then(alert("You just added a thought, comeback later to see other's feedback"))},clearCompleted(e){q.collection("feeds").where("completed","==",!0).get().then(t=>{t.forEach(t=>{t.ref.delete().then(()=>{e.commit("clearCompleted")})})})},updateFilter(e,t){setTimeout(()=>{e.commit("updateFilter",t)},100)},checkAll(e,t){q.collection("feeds").get().then(s=>{s.forEach(s=>{s.ref.update({completed:t}).then(()=>{e.commit("checkAll",t)})})})},deletefeed(e,t){setTimeout(()=>{q.collection("feeds").doc(t).delete().then(()=>{e.commit("deletefeed",t)})},10)},editfeed(e,t){setTimeout(()=>{q.collection("feeds").doc(t.id).set({id:t.id,title:t.title,completed:t.completed,timestamp:new Date}).then(()=>{e.commit("editfeed",t)})},100)},getfeeds(e){q.collection("feeds").get().then(t=>{let s=[],i=[];t.forEach(e=>{let t={id:e.id,title:e.data().title,completed:e.data().completed,timestamp:e.data().timestamp,agree:e.data().agree,disagree:e.data().disagree,user:e.data().user,category:e.data().category};s.push(t),i.push(t)});let a=s[Math.floor(Math.random()*t.size)],o={id:a.id,title:a.title,completed:a.completed,timestamp:a.timestamp,agree:a.agree,disagree:a.disagree,user:a.user,category:a.category},r=[];r.push(o);let n=i.sort((e,t)=>e.timestamp.seconds-t.timestamp.seconds);e.commit("getfeeds",r),e.commit("getAllFeeds",n)})},getAllFeeds(e){q.collection("feeds").get().then(t=>{let s=[];t.forEach(e=>{const t={id:e.id,title:e.data().title,completed:e.data().completed,timestamp:e.data().timestamp,agree:e.data().agree,disagree:e.data().disagree,user:e.data().user,category:e.data().category};s.push(t)});const i=s.sort((e,t)=>e.timestamp.seconds-t.timestamp.seconds);e.commit("getAllFeeds",i)})},viewFeedDetail(e,t){q.collection("feeds").doc(t).get().then(e=>{console.log(e.data().agree),console.log(e.data().disagree)})},agreeOnFeed(e,t){let s=q.collection("feeds").doc(t.id);q.runTransaction(e=>e.get(s).then(t=>{var i=t.data().agree+1;e.update(s,{agree:i})})),q.collection("feeds").doc(t.id).get().then(e=>{console.log(Number(e.data().agree)+" Other people have the same opinion as you"),e.ref.update({completed:!0})})},disagreeOnFeed(e,t){let s=q.collection("feeds").doc(t.id);q.runTransaction(e=>e.get(s).then(t=>{var i=t.data().disagree+1;e.update(s,{disagree:i})})),q.collection("feeds").doc(t.id).get().then(e=>{console.log(Number(e.data().disagree)+" Other people have the same opinion as you")})}}});var B={data:()=>({isLoggedIn:!1,currentUser:""}),computed:{userName(){let e=this.$store.getters.getUserName;return null!=e?e.substr(0,e.indexOf("@")):void 0}},updated(){},created(){},methods:{test(){console.log(this.currentUser)},logout(){console.log("test"),r.a.auth().signOut().then(()=>{console.log("logged out"),this.$store.dispatch("userLoggedOut"),alert("You have logged out"),this.$router.push("/login")})}}},Y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[s("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),e._v(" "),null!=e.userName?s("b-navbar-brand",[e._v("Welcome back "+e._s(e.userName)+" ! ")]):s("b-navbar-brand",[e._v("Please Login")]),e._v(" "),s("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[s("b-navbar-nav",{staticClass:"ml-auto"},[s("b-nav-item",{attrs:{"router-link":"",to:"/list"}},[e._v("Thoughts List")]),e._v(" "),s("b-nav-item",{attrs:{"router-link":"",to:"/about"}},[e._v("About")]),e._v(" "),s("b-nav-item-dropdown",{attrs:{right:""}},[s("template",{slot:"button-content"},[s("span",{staticClass:"email black-text"},[e._v("Account")])]),e._v(" "),e.isLoggedIn?s("div",[e._v("TEST")]):e._e(),e._v(" "),e.userName?e._e():s("b-dropdown-item",{attrs:{"router-link":"",to:"/login"}},[e._v("Login")]),e._v(" "),e.userName?e._e():s("b-dropdown-item",{attrs:{"router-link":"",to:"/register"}},[e._v("Register")]),e._v(" "),e.userName?s("b-dropdown-item",{on:{click:e.logout}},[e._v("Logout")]):e._e()],2)],1)],1)],1),e._v(" "),s("router-view")],1)},staticRenderFns:[]};var j=s("VU/8")(B,Y,!1,function(e){s("JyQ8")},"data-v-55571ada",null).exports;s("Jmt5"),s("9M+g");window.eventBus=new i.a,i.a.config.productionTip=!1,i.a.use(P.a),i.a.use(a.a);let X=new P.a({routes:N});X.beforeEach((e,t,s)=>{const i=r.a.auth().currentUser,a=e.matched.some(e=>e.meta.requiresAuth);a&&null==i?s("/login"):s()}),new i.a({el:"#app",router:X,components:{NavBar:j},store:G,template:"<NavBar/>"})},cQn4:function(e,t){},cV6X:function(e,t){},nx05:function(e,t){},oV3e:function(e,t){},qXug:function(e,t){},vFv6:function(e,t){},vbXd:function(e,t){},vo4a:function(e,t){},xINL:function(e,t){},zj2Q:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.f8e334a87b9d65403b2c.js.map